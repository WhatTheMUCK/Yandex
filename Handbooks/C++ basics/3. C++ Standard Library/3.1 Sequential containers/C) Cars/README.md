# –í–∞–≥–æ–Ω—ã

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏**: 1 —Å  
**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: 64.0 –ú–±  
**–í–≤–æ–¥**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ –∏–ª–∏ `input.txt`  
**–í—ã–≤–æ–¥**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –∏–ª–∏ `output.txt`

---

## –ó–∞–¥–∞–Ω–∏–µ

–í—ã ‚Äî –º–∞—à–∏–Ω–∏—Å—Ç. –í–∞–º –ø–æ—Ä—É—á–µ–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:

```cpp
void MakeTrain();
```

—á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–µ–∑–¥ –∏–∑ –Ω–∞–±–æ—Ä–∞ –≤–∞–≥–æ–Ω–æ–≤.

–£ –∫–∞–∂–¥–æ–≥–æ –≤–∞–≥–æ–Ω–∞ –µ—Å—Ç—å –Ω–æ–º–µ—Ä (–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ `int`). –ù–æ–º–µ—Ä–∞ –≤–∞–≥–æ–Ω–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å–æ—Å—Ç–∞–≤–∞ **–º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è**.  
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø—É—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–æ—Å—Ç–∞–≤, **–ø—É—Å—Ç–æ–π**.

---

## –ö–æ–º–∞–Ω–¥—ã

–ù–∞ –≤—Ö–æ–¥ –ø–æ—Å—Ç—É–ø–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ (–∫–∞–∂–¥–∞—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ):

- `+left W` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–≥–æ–Ω —Å –Ω–æ–º–µ—Ä–æ–º `W` **—Å–ª–µ–≤–∞**
- `+right W` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–≥–æ–Ω —Å –Ω–æ–º–µ—Ä–æ–º `W` **—Å–ø—Ä–∞–≤–∞**
- `-left N` ‚Äî –æ—Ç—Ü–µ–ø–∏—Ç—å –∏ —É–±—Ä–∞—Ç—å `N` –≤–∞–≥–æ–Ω–æ–≤ **—Å–ª–µ–≤–∞**
- `-right N` ‚Äî –æ—Ç—Ü–µ–ø–∏—Ç—å –∏ —É–±—Ä–∞—Ç—å `N` –≤–∞–≥–æ–Ω–æ–≤ **—Å–ø—Ä–∞–≤–∞**

> ‚ö†Ô∏è –ï—Å–ª–∏ `N` –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–π –¥–ª–∏–Ω—ã —Å–æ—Å—Ç–∞–≤–∞ ‚Äî —É–±—Ä–∞—Ç—å **–≤–µ—Å—å —Å–æ—Å—Ç–∞–≤ —Ü–µ–ª–∏–∫–æ–º**.  
> ‚ùó –û—Ç—Ü–µ–ø–ª—è—Ç—å –≤–∞–≥–æ–Ω—ã –ø–æ –æ–¥–Ω–æ–º—É ‚Äî –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É –ø–æ `N` —à—Ç—É–∫.

---

## –í—ã–≤–æ–¥

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –Ω–∞–ø–µ—á–∞—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª **–Ω–æ–º–µ—Ä–∞ –≤–∞–≥–æ–Ω–æ–≤ –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è —Å–æ—Å—Ç–∞–≤–∞**, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–∏—Ö **—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ**.  
–í —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ ‚Äî **–ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏**.

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –í—Å–µ–≥–æ –±—É–¥–µ—Ç **–Ω–µ –±–æ–ª–µ–µ 1 –º–ª–Ω –∫–æ–º–∞–Ω–¥**.
- –§—É–Ω–∫—Ü–∏—è `MakeTrain()` –¥–æ–ª–∂–Ω–∞ **—á–∏—Ç–∞—Ç—å —Å–æ `std::cin`** –∏ **–ø–∏—Å–∞—Ç—å –≤ `std::cout`**.
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã.
- ‚ùó **–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `main`** ‚Äî —Ç–æ–ª—å–∫–æ `void MakeTrain()`.

---

## –ü—Ä–∏–º–µ—Ä

**–í–≤–æ–¥:**
```text
+left 1
+right 2
+left 3
-right 1
```

**–í—ã–≤–æ–¥:**
```text
3 1
```

> üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ:  
> - `+left 1` ‚Üí [1]  
> - `+right 2` ‚Üí [1, 2]  
> - `+left 3` ‚Üí [3, 1, 2]  
> - `-right 1` ‚Üí [3, 1]

---

## –°–æ–≤–µ—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::deque<int>` ‚Äî –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å –æ–±–æ–∏—Ö –∫–æ–Ω—Ü–æ–≤.
## –†–µ—à–µ–Ω–∏–µ

main.cpp
```cpp
#include <iostream>
#include <string>
#include <deque>


void MakeTrain() {
    char flag;
    std::string direction;
    size_t number;
    std::deque<int> cars;
    while (std::cin >> flag >> direction >> number) {
        if (flag == '+') {
            direction == "left" ? cars.push_front(number) : cars.push_back(number);
        } else {
            if (number >= cars.size()) {
                cars.clear();
                continue;
            }

            direction == "left" ? cars.erase(cars.begin(), cars.begin() + number) 
                                : cars.erase(cars.end() - number, cars.end());
        }
    }

    for (const int elem : cars) {
        std::cout << elem << ' ';
    }
    std::cout << '\n';
    return;
}

int main() {
    MakeTrain();
    return 0;
}
```
